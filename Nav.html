<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>แก้ไขโปรไฟล์ | Scan Check-in</title>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet" href="/CSS/Nav.css">
</head>
<body>
    <!-- Background Pattern -->
    <div class="background-pattern">
        <div class="pattern-grid"></div>
        <div class="floating-elements">
            <div class="floating-element element-1"></div>
            <div class="floating-element element-2"></div>
            <div class="floating-element element-3"></div>
            <div class="floating-element element-4"></div>
            <div class="floating-element element-5"></div>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="nav-logo">
                    <ion-icon name="scan-outline"></ion-icon>
                </div>
                <span class="nav-title">Scan Check-in</span>
            </div>
            <div class="nav-links">
                <a href="/HTML/index.html" class="nav-link">
                    <ion-icon name="home-outline"></ion-icon>
                    <span>หน้าหลัก</span>
                </a>
                <a href="#" class="nav-link">
                    <ion-icon name="help-circle-outline"></ion-icon>
                    <span>ช่วยเหลือ</span>
                </a>
                <a href="#" class="nav-link logout-link" id="logoutBtn">
                    <ion-icon name="log-out-outline"></ion-icon>
                    <span>ออกจากระบบ</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <main class="main-container">
        <!-- Profile Header -->
        <div class="profile-header">
            <div class="profile-header-content">
                <div class="profile-avatar-section">
                    <div class="profile-avatar" id="profileAvatar">
                        <img src="/images/default-avatar.png" alt="Profile Picture" id="avatarImage">
                        <div class="avatar-overlay">
                            <ion-icon name="camera-outline"></ion-icon>
                        </div>
                    </div>
                    <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
                </div>
                <div class="profile-info">
                    <h1 class="profile-name" id="profileName">ชื่อผู้ใช้งาน</h1>
                    <p class="profile-role" id="profileRole">นักเรียน</p>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="attendanceRate">95%</span>
                            <span class="stat-label">อัตราการเข้าเรียน</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="attendedDays">42</span>
                            <span class="stat-label">วันที่เข้าเรียน</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="absentDays">3</span>
                            <span class="stat-label">วันที่ขาด</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Content -->
        <div class="profile-content">
            <!-- Profile Form -->
            <div class="profile-form-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <ion-icon name="person-outline"></ion-icon>
                        ข้อมูลส่วนตัว
                    </h2>
                    <p class="section-description">แก้ไขข้อมูลส่วนตัวของคุณ</p>
                </div>

                <form class="profile-form" id="profileForm">
                    <!-- Personal Information -->
                    <div class="form-section">
                        <h3 class="form-section-title">ข้อมูลทั่วไป</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName" class="form-label">ชื่อ</label>
                                <div class="input-container">
                                    <ion-icon name="person-outline" class="input-icon"></ion-icon>
                                    <input type="text" id="firstName" name="firstName" class="form-input" 
                                           placeholder="กรอกชื่อ" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="lastName" class="form-label">นามสกุล</label>
                                <div class="input-container">
                                    <ion-icon name="person-outline" class="input-icon"></ion-icon>
                                    <input type="text" id="lastName" name="lastName" class="form-input" 
                                           placeholder="กรอกนามสกุล" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="email" class="form-label">อีเมล</label>
                                <div class="input-container">
                                    <ion-icon name="mail-outline" class="input-icon"></ion-icon>
                                    <input type="email" id="email" name="email" class="form-input" 
                                           placeholder="กรอกอีเมล" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="phone" class="form-label">เบอร์โทรศัพท์</label>
                                <div class="input-container">
                                    <ion-icon name="call-outline" class="input-icon"></ion-icon>
                                    <input type="tel" id="phone" name="phone" class="form-input" 
                                           placeholder="กรอกเบอร์โทรศัพท์" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="studentId" class="form-label">รหัสนักเรียน</label>
                                <div class="input-container">
                                    <ion-icon name="card-outline" class="input-icon"></ion-icon>
                                    <input type="text" id="studentId" name="studentId" class="form-input" 
                                           placeholder="กรอกรหัสนักเรียน" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="class" class="form-label">ห้องเรียน</label>
                                <div class="input-container">
                                    <ion-icon name="school-outline" class="input-icon"></ion-icon>
                                    <select id="class" name="class" class="form-select" required>
                                        <option value="">เลือกห้องเรียน</option>
                                        <option value="1/1">1/1</option>
                                        <option value="1/2">1/2</option>
                                        <option value="2/1">2/1</option>
                                        <option value="2/2">2/2</option>
                                        <option value="3/1">3/1</option>
                                        <option value="3/2">3/2</option>
                                        <option value="ครูประจำชั้น 3/1">ครูประจำชั้น 3/1</option>
                                        <option value="ผู้ดูแลระบบ">ผู้ดูแลระบบ</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="address" class="form-label">ที่อยู่</label>
                            <div class="input-container">
                                <ion-icon name="location-outline" class="input-icon"></ion-icon>
                                <textarea id="address" name="address" class="form-textarea" 
                                          placeholder="กรอกที่อยู่" rows="3"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Account Settings -->
                    <div class="form-section">
                        <h3 class="form-section-title">การตั้งค่าบัญชี</h3>
                        
                        <div class="form-group">
                            <label for="username" class="form-label">ชื่อผู้ใช้งาน</label>
                            <div class="input-container">
                                <ion-icon name="at-outline" class="input-icon"></ion-icon>
                                <input type="text" id="username" name="username" class="form-input" 
                                       placeholder="กรอกชื่อผู้ใช้งาน" required readonly>
                            </div>
                            <small class="form-hint">ชื่อผู้ใช้งานไม่สามารถเปลี่ยนแปลงได้</small>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="currentPassword" class="form-label">รหัสผ่านปัจจุบัน</label>
                                <div class="input-container">
                                    <ion-icon name="lock-closed-outline" class="input-icon"></ion-icon>
                                    <input type="password" id="currentPassword" name="currentPassword" 
                                           class="form-input" placeholder="กรอกรหัสผ่านปัจจุบัน">
                                    <button type="button" class="password-toggle" data-target="currentPassword">
                                        <ion-icon name="eye-outline"></ion-icon>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="newPassword" class="form-label">รหัสผ่านใหม่</label>
                                <div class="input-container">
                                    <ion-icon name="lock-closed-outline" class="input-icon"></ion-icon>
                                    <input type="password" id="newPassword" name="newPassword" 
                                           class="form-input" placeholder="กรอกรหัสผ่านใหม่">
                                    <button type="button" class="password-toggle" data-target="newPassword">
                                        <ion-icon name="eye-outline"></ion-icon>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword" class="form-label">ยืนยันรหัสผ่านใหม่</label>
                            <div class="input-container">
                                <ion-icon name="lock-closed-outline" class="input-icon"></ion-icon>
                                <input type="password" id="confirmPassword" name="confirmPassword" 
                                       class="form-input" placeholder="ยืนยันรหัสผ่านใหม่">
                                <button type="button" class="password-toggle" data-target="confirmPassword">
                                    <ion-icon name="eye-outline"></ion-icon>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Privacy Settings -->
                    <div class="form-section">
                        <h3 class="form-section-title">การตั้งค่าความเป็นส่วนตัว</h3>
                        
                        <div class="settings-list">
                            <div class="setting-item">
                                <div class="setting-content">
                                    <h4>แสดงสถานะออนไลน์</h4>
                                    <p>ให้ผู้อื่นเห็นสถานะออนไลน์ของคุณ</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="showOnlineStatus" name="showOnlineStatus" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-content">
                                    <h4>การแจ้งเตือนผ่านอีเมล</h4>
                                    <p>รับการแจ้งเตือนผ่านอีเมลเมื่อมีกิจกรรมสำคัญ</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="emailNotifications" name="emailNotifications" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-content">
                                    <h4>การแจ้งเตือนผ่านเบราว์เซอร์</h4>
                                    <p>รับการแจ้งเตือนผ่านเบราว์เซอร์</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="browserNotifications" name="browserNotifications">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">
                            <ion-icon name="close-outline"></ion-icon>
                            ยกเลิก
                        </button>
                        <button type="submit" class="btn btn-primary" id="saveBtn">
                            <ion-icon name="save-outline"></ion-icon>
                            บันทึกการเปลี่ยนแปลง
                        </button>
                    </div>
                </form>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <ion-icon name="flash-outline"></ion-icon>
                        การกระทำด่วน
                    </h2>
                </div>
                
                <div class="quick-actions-grid">
                    <div class="quick-action-card">
                        <div class="quick-action-icon">
                            <ion-icon name="calendar-outline"></ion-icon>
                        </div>
                        <h3>ประวัติการเข้าเรียน</h3>
                        <p>ดูประวัติการเข้าเรียนของคุณ</p>
                        <button class="quick-action-btn">
                            <span>ดูประวัติ</span>
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                        </button>
                    </div>
                    
                    <div class="quick-action-card">
                        <div class="quick-action-icon">
                            <ion-icon name="qr-code-outline"></ion-icon>
                        </div>
                        <h3>QR Code ส่วนตัว</h3>
                        <p>แสดง QR Code สำหรับเช็คอิน</p>
                        <button class="quick-action-btn" onclick="window.location.href='/HTML/ScanQRCode.html'">
                            <span>แสดง QR Code</span>
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                        </button>
                    </div>
                    
                    <div class="quick-action-card">
                        <div class="quick-action-icon">
                            <ion-icon name="shield-outline"></ion-icon>
                        </div>
                        <h3>ความปลอดภัย</h3>
                        <p>ตั้งค่าความปลอดภัยบัญชี</p>
                        <button class="quick-action-btn">
                            <span>ตั้งค่า</span>
                            <ion-icon name="arrow-forward-outline"></ion-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner">
                <ion-icon name="reload-outline"></ion-icon>
            </div>
            <h3>กำลังบันทึกข้อมูล</h3>
            <p>กรุณารอสักครู่...</p>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
        <div class="modal-content">
            <div class="success-icon">
                <ion-icon name="checkmark-circle"></ion-icon>
            </div>
            <h3>บันทึกข้อมูลสำเร็จ!</h3>
            <p>ข้อมูลโปรไฟล์ของคุณได้รับการอัพเดตแล้ว</p>
            <div class="modal-actions">
                <button class="modal-btn primary" id="closeSuccessModal">
                    <ion-icon name="checkmark-outline"></ion-icon>
                    ตกลง
                </button>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div class="error-modal" id="errorModal">
        <div class="modal-content">
            <div class="error-icon">
                <ion-icon name="alert-circle"></ion-icon>
            </div>
            <h3>เกิดข้อผิดพลาด</h3>
            <p id="errorMessage">ไม่สามารถบันทึกข้อมูลได้</p>
            <div class="modal-actions">
                <button class="modal-btn primary" id="closeErrorModal">
                    <ion-icon name="close-outline"></ion-icon>
                    ปิด
                </button>
            </div>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div class="confirm-modal" id="confirmModal">
        <div class="modal-content">
            <div class="confirm-icon">
                <ion-icon name="help-circle"></ion-icon>
            </div>
            <h3>ยืนยันการเปลี่ยนแปลง</h3>
            <p>คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?</p>
            <div class="modal-actions">
                <button class="modal-btn secondary" id="cancelConfirm">
                    <ion-icon name="close-outline"></ion-icon>
                    ยกเลิก
                </button>
                <button class="modal-btn primary" id="confirmSave">
                    <ion-icon name="save-outline"></ion-icon>
                    บันทึก
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">
                <p>&copy; 2024 Scan Check-in System. สงวนลิขสิทธิ์.</p>
            </div>
            <div class="footer-right">
                <a href="#" class="footer-link">
                    <ion-icon name="document-text-outline"></ion-icon>
                    นโยบายความเป็นส่วนตัว
                </a>
                <a href="#" class="footer-link">
                    <ion-icon name="information-circle-outline"></ion-icon>
                    เงื่อนไขการใช้งาน
                </a>
            </div>
        </div>
    </footer>

    <!-- Include JavaScript -->
    <script src="/JS/Nav.js"></script>
</body>
</html>